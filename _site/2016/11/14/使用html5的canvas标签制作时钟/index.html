<!DOCTYPE html>
<html>
<head>

  <meta charset="UTF-8">
  <title>使用html5的canvas标签制作时钟。</title>
  <meta name="viewport" content="width=device-width">

  <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="/assets/css/style.css" rel="stylesheet" />
  <link href="/assets/css/colors-dark.css" rel="stylesheet" />

</head>

<body>



  <header id="header">
    <h1><a href="/"><i class="icon-sun"></i> Solar Theme</a></h1>
    <p>A stylish blog using the Solarized color palette</p>
  </header>



  <div id="page">



    <div id="sidebar">
      <nav>
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/archives">Archive</a></li>
          <li><a href="/about">About</a></li>
          <li><a href="http://twitter.com/redwall_hp">Twitter</a></li>
          <li><a href="/feed.xml">RSS Feed</a></li>
        </ul>
      </nav>
    </div>



    <div id="content">
      <article class="post">

	
		<h1><a href="/2016/11/14/%E4%BD%BF%E7%94%A8html5%E7%9A%84canvas%E6%A0%87%E7%AD%BE%E5%88%B6%E4%BD%9C%E6%97%B6%E9%92%9F/">使用html5的canvas标签制作时钟。</a></h1>
	

	<div class="post-content"><p><img class="alignnone size-full wp-image-173" src="http://donute.com/wp-content/uploads/2016/11/002o3oc9gy6IpsHmh2xa1690.png" alt="002o3oc9gy6ipshmh2xa1690" width="450" height="468" /></p>
<div>
<table>
<tbody>
<tr>
<td></td>
<td>复制代码，粘贴在记事本中，另存为colock.html在浏览器中打开就可以看到效果。</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>我的html5时钟</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>width="500" height="500" id="clock" &gt;</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>function drawClock()</td>
</tr>
<tr>
<td></td>
<td>{</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>var clock=document.getElementByIdx_x('clock');</td>
</tr>
<tr>
<td></td>
<td>var cxt=clock.getContext('2d');</td>
</tr>
<tr>
<td></td>
<td>var now=new Date();</td>
</tr>
<tr>
<td></td>
<td>var sec=now.getSeconds();</td>
</tr>
<tr>
<td></td>
<td>var min=now.getMinutes();</td>
</tr>
<tr>
<td></td>
<td>var hou=now.getHours();</td>
</tr>
<tr>
<td></td>
<td>hou=hou&gt;12?(hou-12+min/60):(hou+min/60);</td>
</tr>
<tr>
<td></td>
<td>cxt.clearRect(0,0,500,500);</td>
</tr>
<tr>
<td></td>
<td>cxt.beginPath();</td>
</tr>
<tr>
<td></td>
<td>cxt.lineWidth="10";</td>
</tr>
<tr>
<td></td>
<td>cxt.strokeStyle="blue";</td>
</tr>
<tr>
<td></td>
<td>cxt.arc(250,250,200,0,360,false);</td>
</tr>
<tr>
<td></td>
<td>cxt.stroke();</td>
</tr>
<tr>
<td></td>
<td>cxt.closePath();</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>for(var i=0;i&lt;12;i++)</td>
</tr>
<tr>
<td></td>
<td>{</td>
</tr>
<tr>
<td></td>
<td>cxt.save();</td>
</tr>
<tr>
<td></td>
<td>cxt.translate(250,250);</td>
</tr>
<tr>
<td></td>
<td>cxt.strokeStyle="black";</td>
</tr>
<tr>
<td></td>
<td>cxt.lineWidth="9";</td>
</tr>
<tr>
<td></td>
<td>cxt.rotate(i*30*Math.PI/180);</td>
</tr>
<tr>
<td></td>
<td>cxt.beginPath();</td>
</tr>
<tr>
<td></td>
<td>cxt.moveTo(0,-197);</td>
</tr>
<tr>
<td></td>
<td>cxt.lineTo(0,-180);</td>
</tr>
<tr>
<td></td>
<td>cxt.stroke();</td>
</tr>
<tr>
<td></td>
<td>cxt.closePath();</td>
</tr>
<tr>
<td></td>
<td>cxt.restore();</td>
</tr>
<tr>
<td></td>
<td>}</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>for(var i=0;i&lt;60;i++)</td>
</tr>
<tr>
<td></td>
<td>{</td>
</tr>
<tr>
<td></td>
<td>cxt.save();</td>
</tr>
<tr>
<td></td>
<td>cxt.translate(250,250);</td>
</tr>
<tr>
<td></td>
<td>cxt.strokeStyle="black";</td>
</tr>
<tr>
<td></td>
<td>cxt.lineWidth="3";</td>
</tr>
<tr>
<td></td>
<td>cxt.rotate(i*6*Math.PI/180);</td>
</tr>
<tr>
<td></td>
<td>cxt.beginPath();</td>
</tr>
<tr>
<td></td>
<td>cxt.moveTo(0,-197);</td>
</tr>
<tr>
<td></td>
<td>cxt.lineTo(0,-188);</td>
</tr>
<tr>
<td></td>
<td>cxt.stroke();</td>
</tr>
<tr>
<td></td>
<td>cxt.closePath();</td>
</tr>
<tr>
<td></td>
<td>cxt.restore();</td>
</tr>
<tr>
<td></td>
<td>}</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>cxt.beginPath();</td>
</tr>
<tr>
<td></td>
<td>cxt.lineWidth="10";</td>
</tr>
<tr>
<td></td>
<td>cxt.save();</td>
</tr>
<tr>
<td></td>
<td>cxt.translate(250,250);</td>
</tr>
<tr>
<td></td>
<td>cxt.strokeStyle="green";</td>
</tr>
<tr>
<td></td>
<td>cxt.beginPath();</td>
</tr>
<tr>
<td></td>
<td>cxt.rotate(hou*30*Math.PI/180);</td>
</tr>
<tr>
<td></td>
<td>cxt.stroke();</td>
</tr>
<tr>
<td></td>
<td>cxt.closePath();</td>
</tr>
<tr>
<td></td>
<td>cxt.moveTo(0,10);</td>
</tr>
<tr>
<td></td>
<td>cxt.lineTo(0,-80);</td>
</tr>
<tr>
<td></td>
<td>cxt.stroke();</td>
</tr>
<tr>
<td></td>
<td>cxt.closePath();</td>
</tr>
<tr>
<td></td>
<td>cxt.restore();</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>cxt.beginPath();</td>
</tr>
<tr>
<td></td>
<td>cxt.lineWidth="6";</td>
</tr>
<tr>
<td></td>
<td>cxt.save();</td>
</tr>
<tr>
<td></td>
<td>cxt.translate(250,250);</td>
</tr>
<tr>
<td></td>
<td>cxt.strokeStyle="orange";</td>
</tr>
<tr>
<td></td>
<td>cxt.beginPath();</td>
</tr>
<tr>
<td></td>
<td>cxt.rotate(min*6*Math.PI/180);</td>
</tr>
<tr>
<td></td>
<td>cxt.stroke();</td>
</tr>
<tr>
<td></td>
<td>cxt.closePath();</td>
</tr>
<tr>
<td></td>
<td>cxt.moveTo(0,10);</td>
</tr>
<tr>
<td></td>
<td>cxt.lineTo(0,-120);</td>
</tr>
<tr>
<td></td>
<td>cxt.stroke();</td>
</tr>
<tr>
<td></td>
<td>cxt.closePath();</td>
</tr>
<tr>
<td></td>
<td>cxt.restore();</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>cxt.beginPath();</td>
</tr>
<tr>
<td></td>
<td>cxt.lineWidth="3";</td>
</tr>
<tr>
<td></td>
<td>cxt.save();</td>
</tr>
<tr>
<td></td>
<td>cxt.translate(250,250);</td>
</tr>
<tr>
<td></td>
<td>cxt.strokeStyle="red";</td>
</tr>
<tr>
<td></td>
<td>cxt.beginPath();</td>
</tr>
<tr>
<td></td>
<td>cxt.rotate(sec*6*Math.PI/180);</td>
</tr>
<tr>
<td></td>
<td>cxt.stroke();</td>
</tr>
<tr>
<td></td>
<td>cxt.closePath();</td>
</tr>
<tr>
<td></td>
<td>cxt.moveTo(0,10);</td>
</tr>
<tr>
<td></td>
<td>cxt.lineTo(0,-150);</td>
</tr>
<tr>
<td></td>
<td>cxt.stroke();</td>
</tr>
<tr>
<td></td>
<td>cxt.closePath();</td>
</tr>
<tr>
<td></td>
<td>cxt.beginPath();</td>
</tr>
<tr>
<td></td>
<td>cxt.strokeStyle="blue";</td>
</tr>
<tr>
<td></td>
<td>cxt.arc(0,-125,6,0,360,false);</td>
</tr>
<tr>
<td></td>
<td>cxt.stroke();</td>
</tr>
<tr>
<td></td>
<td>cxt.fillStyle="gray";</td>
</tr>
<tr>
<td></td>
<td>cxt.fill();</td>
</tr>
<tr>
<td></td>
<td>cxt.closePath();</td>
</tr>
<tr>
<td></td>
<td>cxt.restore();</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>cxt.beginPath();</td>
</tr>
<tr>
<td></td>
<td>cxt.save();</td>
</tr>
<tr>
<td></td>
<td>cxt.translate(250,250);</td>
</tr>
<tr>
<td></td>
<td>cxt.arc(0,0,6,0,360,false);</td>
</tr>
<tr>
<td></td>
<td>cxt.stroke();</td>
</tr>
<tr>
<td></td>
<td>cxt.fillStyle="gray";</td>
</tr>
<tr>
<td></td>
<td>cxt.fill();</td>
</tr>
<tr>
<td></td>
<td>cxt.restore();</td>
</tr>
<tr>
<td></td>
<td>cxt.closePath();</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>var year=now.getFullYear();</td>
</tr>
<tr>
<td></td>
<td>var month=now.getMonth();</td>
</tr>
<tr>
<td></td>
<td>var day=now.getDate();</td>
</tr>
<tr>
<td></td>
<td>cxt.save();</td>
</tr>
<tr>
<td></td>
<td>cxt.beginPath();</td>
</tr>
<tr>
<td></td>
<td>cxt.translate(250,250);</td>
</tr>
<tr>
<td></td>
<td>cxt.font="20px 宋体";</td>
</tr>
<tr>
<td></td>
<td>cxt.fillText("今天是"+year+"年"+month+"月"+day+"日",-100,120);</td>
</tr>
<tr>
<td></td>
<td>cxt.restore();</td>
</tr>
<tr>
<td></td>
<td>cxt.closePath();</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>}</td>
</tr>
<tr>
<td></td>
<td>drawClock();</td>
</tr>
<tr>
<td></td>
<td>setInterval(drawClock,1000);</td>
</tr>
</tbody>
</table>
</div>
</div>

	<p class="meta">Posted on <span class="postdate">Nov 14, 2016</span></p>

</article>
    </div>



  </div>



  <footer id="footer">
    <p class="copyright">Copyright &copy; 2017 Solar Theme. Powered by <a href="http://jekyllrb.com">Jekyll</a>, theme by <a href="http://www.webmaster-source.com">Matt Harzewski</a></p>
  </footer>



  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
  <script src="/assets/js/jquery.mobilemenu.min.js"></script>

  <script>
    $(document).ready(function(){
      $('#sidebar nav ul').mobileMenu({'topOptionText': 'Menu', 'prependTo': '#sidebar nav'});
    });
  </script>



</body>
</html>