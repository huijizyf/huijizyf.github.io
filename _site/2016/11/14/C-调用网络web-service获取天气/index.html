<!DOCTYPE html>
<html>
<head>

  <meta charset="UTF-8">
  <title>C# 调用网络web service获取天气</title>
  <meta name="viewport" content="width=device-width">

  <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="/assets/css/style.css" rel="stylesheet" />
  <link href="/assets/css/colors-dark.css" rel="stylesheet" />

</head>

<body>



  <header id="header">
    <h1><a href="/"><i class="icon-sun"></i> Solar Theme</a></h1>
    <p>A stylish blog using the Solarized color palette</p>
  </header>



  <div id="page">



    <div id="sidebar">
      <nav>
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/archives">Archive</a></li>
          <li><a href="/about">About</a></li>
          <li><a href="http://twitter.com/redwall_hp">Twitter</a></li>
          <li><a href="/feed.xml">RSS Feed</a></li>
        </ul>
      </nav>
    </div>



    <div id="content">
      <article class="post">

	
		<h1><a href="/2016/11/14/C-%E8%B0%83%E7%94%A8%E7%BD%91%E7%BB%9Cweb-service%E8%8E%B7%E5%8F%96%E5%A4%A9%E6%B0%94/">C# 调用网络web service获取天气</a></h1>
	

	<div class="post-content"><div>天气web service 接口地址：http://webservice.webxml.com.cn/WebServices/WeatherWS.asmx</div>
<div><a href="http://photo.blog.sina.com.cn/showpic.html#blogid=8265bd790102v1q5&amp;url=http://album.sina.com.cn/pic/002o3oc9gy6MdOBO6HH6d" target="_blank"><img style="margin: 0px; padding: 0px; border: 0px; list-style: none;" title="C# &lt;wbr&gt;调用网络web &lt;wbr&gt;service获取天气" src="http://s14.sinaimg.cn/mw690/002o3oc9gy6MdOBO6HH6d&amp;690" alt="C# &lt;wbr&gt;调用网络web &lt;wbr&gt;service获取天气" width="462" height="504" name="image_operate_4721411307212634" /></a></p>
<p><a href="http://photo.blog.sina.com.cn/showpic.html#blogid=8265bd790102v1q5&amp;url=http://album.sina.com.cn/pic/002o3oc9gy6MdOBRScUa0" target="_blank"><img style="margin: 0px; padding: 0px; border: 0px; list-style: none;" title="C# &lt;wbr&gt;调用网络web &lt;wbr&gt;service获取天气" src="http://s1.sinaimg.cn/mw690/002o3oc9gy6MdOBRScUa0&amp;690" alt="C# &lt;wbr&gt;调用网络web &lt;wbr&gt;service获取天气" width="497" height="377" name="image_operate_61521411307212998" /></a></p>
</div>
<div>代码：</div>
<div>using System;</div>
<div>using System.Collections.Generic;</div>
<div>using System.ComponentModel;</div>
<div>using System.Data;</div>
<div>using System.Drawing;</div>
<div>using System.Linq;</div>
<div>using System.Text;</div>
<div>using System.Windows.Forms;</div>
<div></div>
<div>namespace WindowsFormsApplication1<wbr /></div>
<div>{</div>
<div> <wbr />  <wbr /> public partial class Form1 : Form</div>
<div> <wbr />  <wbr /> {</div>
<div> <wbr />  <wbr />  <wbr />  <wbr /> public Form1()</div>
<div> <wbr />  <wbr />  <wbr />  <wbr /> {</div>
<div> <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr /> InitializeComponent();</div>
<div> <wbr />  <wbr />  <wbr />  <wbr /> }</div>
<div></div>
<div> <wbr />  <wbr />  <wbr />  <wbr /> private void button1_Click(object sender, EventArgs e)</div>
<div> <wbr />  <wbr />  <wbr />  <wbr /> {</div>
<div></div>
<div> <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr /> Weather.WeatherWebServiceSoapCli<wbr />ent w = new Weather.WeatherWebServiceSoapCli<wbr />ent("WeatherWebServiceSoap");</div>
<div> <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr /> string[] s = new string[32];</div>
<div> <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr /> s = w.getWeatherbyCityName(textBox1.Text);</div>
<div> <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr /> if (s[8] == "")</div>
<div> <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr /> {</div>
<div> <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr /> MessageBox.Show("暂时不支持您查询的城市");</div>
<div> <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr /> }</div>
<div> <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr /> else</div>
<div> <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr /> {</div>
<div> <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr /> richTextBox1.Text="";</div>
<div> <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr /> for (int i = 0; i &lt;= 22; i++)</div>
<div> <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr /> {</div>
<div> <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr /> richTextBox1.Text += s[i];</div>
<div></div>
<div> <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr /> }</div>
<div></div>
<div> <wbr />  <wbr />  <wbr />  <wbr />  <wbr />  <wbr /> }</div>
<div> <wbr />  <wbr />  <wbr />  <wbr /> }</div>
<div> <wbr />  <wbr /> }</div>
<div>}</div>
</div>

	<p class="meta">Posted on <span class="postdate">Nov 14, 2016</span></p>

</article>
    </div>



  </div>



  <footer id="footer">
    <p class="copyright">Copyright &copy; 2017 Solar Theme. Powered by <a href="http://jekyllrb.com">Jekyll</a>, theme by <a href="http://www.webmaster-source.com">Matt Harzewski</a></p>
  </footer>



  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
  <script src="/assets/js/jquery.mobilemenu.min.js"></script>

  <script>
    $(document).ready(function(){
      $('#sidebar nav ul').mobileMenu({'topOptionText': 'Menu', 'prependTo': '#sidebar nav'});
    });
  </script>



</body>
</html>