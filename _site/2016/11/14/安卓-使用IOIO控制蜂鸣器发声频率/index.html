<!DOCTYPE html>
<html>
<head>

  <meta charset="UTF-8">
  <title>安卓 使用IOIO控制蜂鸣器发声频率</title>
  <meta name="viewport" content="width=device-width">

  <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="/assets/css/style.css" rel="stylesheet" />
  <link href="/assets/css/colors-dark.css" rel="stylesheet" />

</head>

<body>



  <header id="header">
    <h1><a href="/"><i class="icon-sun"></i> Solar Theme</a></h1>
    <p>A stylish blog using the Solarized color palette</p>
  </header>



  <div id="page">



    <div id="sidebar">
      <nav>
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/archives">Archive</a></li>
          <li><a href="/about">About</a></li>
          <li><a href="http://twitter.com/redwall_hp">Twitter</a></li>
          <li><a href="/feed.xml">RSS Feed</a></li>
        </ul>
      </nav>
    </div>



    <div id="content">
      <article class="post">

	
		<h1><a href="/2016/11/14/%E5%AE%89%E5%8D%93-%E4%BD%BF%E7%94%A8IOIO%E6%8E%A7%E5%88%B6%E8%9C%82%E9%B8%A3%E5%99%A8%E5%8F%91%E5%A3%B0%E9%A2%91%E7%8E%87/">安卓 使用IOIO控制蜂鸣器发声频率</a></h1>
	

	<div class="post-content"><div>接好供电电路后，将电位调到合适位置（手机显示调试模式已连接，并正在充电），然后将实例程序安装至手机，打开实例程序，即可通过手机控制IOIO板子上的引脚，可作为输出，也可作为输入口</div>
<p><a href="http://photo.blog.sina.com.cn/showpic.html#blogid=8265bd790102v8hz&amp;url=http://album.sina.com.cn/pic/002o3oc9gy6OvhmF9m939" target="_blank"><img style="margin: 0px; padding: 0px; border: 0px; list-style: none;" title="安卓&nbsp;&lt;wbr&gt;使用IOIO控制蜂鸣器发声频率" src="http://s10.sinaimg.cn/mw690/002o3oc9gy6OvhmF9m939&amp;690" alt="安卓&nbsp;&lt;wbr&gt;使用IOIO控制蜂鸣器发声频率" width="690" height="579" name="image_operate_10101418970383589"></a></p>
<div>示例程序的代码：</div>
<div>
<div>package ioio.examples.simple;</div>
<div></div>
<div>import ioio.lib.api.AnalogInput;</div>
<div>import ioio.lib.api.DigitalOutput;</div>
<div>import ioio.lib.api.IOIO;</div>
<div>import ioio.lib.api.PwmOutput;</div>
<div>import ioio.lib.api.exception.ConnectionLostException;</div>
<div>import ioio.lib.util.BaseIOIOLooper;</div>
<div>import ioio.lib.util.IOIOLooper;</div>
<div>import ioio.lib.util.android.IOIOActivity;</div>
<div>import android.os.Bundle;</div>
<div>import android.widget.SeekBar;</div>
<div>import android.widget.TextView;</div>
<div>import android.widget.ToggleButton;</div>
<div></div>
<div>public class IOIOSimpleApp extends IOIOActivity {</div>
<div>private TextView textView_;</div>
<div>private SeekBar seekBar_;</div>
<div>private ToggleButton toggleButton_;</div>
<div></div>
<div>@Override</div>
<div>public void onCreate(Bundle savedInstanceState) {</div>
<div>super.onCreate(savedInstanceState);</div>
<div>setContentView(R.layout.main);</div>
<div></div>
<div>textView_ = (TextView) findViewById(R.id.TextView);</div>
<div>seekBar_ = (SeekBar) findViewById(R.id.SeekBar);</div>
<div>toggleButton_ = (ToggleButton) findViewById(R.id.ToggleButton);</div>
<div></div>
<div>enableUi(false);</div>
<div>}</div>
<div></div>
<div>class Looper extends BaseIOIOLooper {</div>
<div>private AnalogInput input_;</div>
<div>private PwmOutput pwmOutput_;</div>
<div>private DigitalOutput led_;</div>
<div></div>
<div>@Override</div>
<div>public void setup() throws ConnectionLostException {</div>
<div>led_ = ioio_.openDigitalOutput(IOIO.LED_PIN, true);</div>
<div>input_ = ioio_.openAnalogInput(40);</div>
<div>pwmOutput_ = ioio_.openPwmOutput(12, 100);</div>
<div>enableUi(true);</div>
<div>}</div>
<div></div>
<div>@Override</div>
<div>public void loop() throws ConnectionLostException, InterruptedException {</div>
<div>setNumber(input_.read());</div>
<div>pwmOutput_.setPulseWidth(500 + seekBar_.getProgress() * 2);</div>
<div>led_.write(!toggleButton_.isChecked());</div>
<div>Thread.sleep(10);</div>
<div>}</div>
<div></div>
<div>@Override</div>
<div>public void disconnected() {</div>
<div>enableUi(false);</div>
<div>}</div>
<div>}</div>
<div></div>
<div>@Override</div>
<div>protected IOIOLooper createIOIOLooper() {</div>
<div>return new Looper();</div>
<div>}</div>
<div></div>
<div>private void enableUi(final boolean enable) {</div>
<div>runOnUiThread(new Runnable() {</div>
<div>@Override</div>
<div>public void run() {</div>
<div>seekBar_.setEnabled(enable);</div>
<div>toggleButton_.setEnabled(enable);</div>
<div>}</div>
<div>});</div>
<div>}</div>
<div></div>
<div>private void setNumber(float f) {</div>
<div>final String str = String.format("%.2f", f);</div>
<div>runOnUiThread(new Runnable() {</div>
<div>@Override</div>
<div>public void run() {</div>
<div>textView_.setText(str);</div>
<div>}</div>
<div>});</div>
<div>}</div>
<div>}</div>
</div>
</div>

	<p class="meta">Posted on <span class="postdate">Nov 14, 2016</span></p>

</article>
    </div>



  </div>



  <footer id="footer">
    <p class="copyright">Copyright &copy; 2017 Solar Theme. Powered by <a href="http://jekyllrb.com">Jekyll</a>, theme by <a href="http://www.webmaster-source.com">Matt Harzewski</a></p>
  </footer>



  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
  <script src="/assets/js/jquery.mobilemenu.min.js"></script>

  <script>
    $(document).ready(function(){
      $('#sidebar nav ul').mobileMenu({'topOptionText': 'Menu', 'prependTo': '#sidebar nav'});
    });
  </script>



</body>
</html>